# Solar-Energy-Consumption-Prediction

# Solar Energy Consumption Prediction and Time Series Analysis for Canadian Cities

This project involves the analysis and prediction of estimated solar energy consumption across major Canadian cities using weather data and solar irradiance values from 2014–2024. The workflow includes data preprocessing, visualization, outlier analysis, feature scaling, and predictive modeling using machine learning techniques.
Dataset was generated by extracting data from NASA Power API.

https://power.larc.nasa.gov/docs/services/api/

The initial part of the code involves generating a time series dataset that includes weather data (temperature, precipitation, wind speed) along with solar irradiance and sunlight hours. This dataset is then used to calculate the estimated solar energy consumption for various Canadian cities. The time series structure of the data allows for seasonal and annual trend analysis, which is crucial for predicting solar energy consumption in future months.


## Project Workflow

### 1. Data Processing
- Calculated `Estimated Solar Energy Consumption (kWh)` using solar irradiance, sunlight hours, panel area, and efficiency constants.
- Dropped redundant columns after processing (`Solar Irradiance (W/m²)` and `Sunlight Hours`).
- Added columns for `Year` and `Month` to facilitate seasonal and annual trend analysis.
- Encoded categorical variables (city names) using one-hot encoding.
- Scaled numerical features for improved model performance using `StandardScaler`.

### 2. Data Visualization
- **Time Series Trends**: Analyzed solar energy consumption trends over time, grouped by cities.
- **Annual Trends**: Summarized yearly solar energy consumption.
- **Seasonal Trends**: Visualized average monthly consumption patterns.
- **Outlier Analysis**: Detected and reviewed outliers using Z-scores but retained them due to their relevance to seasonal patterns.

### 3. Train-Test Splitting
- Used a rolling time-based cross-validation approach:
  - Training period: 30 days.
  - Testing period: 7 days.
- Ensured robust evaluation by creating multiple splits of training and testing datasets.

### 4. Predictive Modeling
- Built a **Random Forest Regressor** to predict solar energy consumption.
- Evaluated model performance using **Mean Squared Error (MSE)** for each time split.
- Recorded an average MSE of approximately `0.69`, indicating strong model performance given the dataset's characteristics.

### 5. Results and Insights
- The model effectively captures seasonal and annual patterns in solar energy consumption.
- Outliers were identified as seasonally significant rather than noise, preserving the data's integrity.
- Random Forest provided a robust predictive baseline; additional fine-tuning or alternate models may further enhance accuracy.

### 6. Future Work
- Explore hyperparameter optimization for Random Forest.
- Experiment with additional algorithms (e.g., Gradient Boosting, ARIMA).
- Investigate the impact of external factors like city-specific solar panel installations and energy policies.
- Implement a pipeline for real-time prediction and visualization.

## File Outputs
- `final_solar_weather_data_with_consumption.csv`: Processed dataset including the calculated `Estimated Solar Energy Consumption (kWh)` column.
- `outliers_detected.csv`: Records identified as outliers for further inspection.

## Requirements
- Python libraries: `pandas`, `numpy`, `matplotlib`, `seaborn`, `sklearn`
- Ensure the dataset is pre-sorted by date for time-based cross-validation.

This project lays the groundwork for understanding and forecasting solar energy consumption trends, providing valuable insights for sustainable energy planning in Canadian cities.
